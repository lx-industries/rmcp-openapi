---
source: tests/test_with_js.rs
expression: responses
---
[
  {
    "data": {
      "tools": [
        {
          "annotations": {
            "title": "Add a new pet to the store"
          },
          "description": "Add a new pet to the store\n\nAdd a new pet to the store\n\nEndpoint: POST /pet",
          "inputSchema": {
            "additionalProperties": false,
            "properties": {
              "request_body": {
                "additionalProperties": true,
                "description": "Pet object that needs to be added to the store",
                "properties": {
                  "id": {
                    "format": "int64",
                    "type": "integer"
                  },
                  "name": {
                    "example": "doggie",
                    "type": "string"
                  },
                  "photoUrls": {
                    "items": {
                      "type": "string"
                    },
                    "type": "array"
                  },
                  "status": {
                    "enum": [
                      "available",
                      "pending",
                      "sold"
                    ],
                    "type": "string"
                  }
                },
                "required": [
                  "name",
                  "photoUrls"
                ],
                "type": "object",
                "x-content-type": "application/json",
                "x-location": "body"
              }
            },
            "required": [
              "request_body"
            ],
            "type": "object"
          },
          "name": "addPet",
          "outputSchema": {
            "additionalProperties": false,
            "description": "Unified response structure with success and error variants",
            "properties": {
              "body": {
                "description": "Response body - either success data or error information",
                "oneOf": [
                  {
                    "additionalProperties": true,
                    "properties": {
                      "id": {
                        "format": "int64",
                        "type": "integer"
                      },
                      "name": {
                        "example": "doggie",
                        "type": "string"
                      },
                      "photoUrls": {
                        "items": {
                          "type": "string"
                        },
                        "type": "array"
                      },
                      "status": {
                        "enum": [
                          "available",
                          "pending",
                          "sold"
                        ],
                        "type": "string"
                      }
                    },
                    "required": [
                      "name",
                      "photoUrls"
                    ],
                    "type": "object"
                  },
                  {
                    "description": "Error response structure for tool execution failures",
                    "properties": {
                      "error": {
                        "description": "Error that can occur during tool execution",
                        "oneOf": [
                          {
                            "description": "Multiple validation errors",
                            "properties": {
                              "type": {
                                "const": "validation-errors",
                                "type": "string"
                              },
                              "violations": {
                                "description": "List of validation errors",
                                "items": {
                                  "description": "Individual validation error types",
                                  "oneOf": [
                                    {
                                      "description": "Invalid parameter error with suggestions",
                                      "properties": {
                                        "parameter": {
                                          "description": "The parameter name that was invalid",
                                          "type": "string"
                                        },
                                        "suggestions": {
                                          "description": "Suggested correct parameter names",
                                          "items": {
                                            "type": "string"
                                          },
                                          "type": "array"
                                        },
                                        "type": {
                                          "const": "invalid-parameter",
                                          "type": "string"
                                        },
                                        "valid_parameters": {
                                          "description": "All valid parameter names for this tool",
                                          "items": {
                                            "type": "string"
                                          },
                                          "type": "array"
                                        }
                                      },
                                      "required": [
                                        "type",
                                        "parameter",
                                        "suggestions",
                                        "valid_parameters"
                                      ],
                                      "type": "object"
                                    },
                                    {
                                      "description": "Missing required parameter",
                                      "properties": {
                                        "description": {
                                          "description": "Description of the parameter from OpenAPI",
                                          "type": [
                                            "string",
                                            "null"
                                          ]
                                        },
                                        "expected_type": {
                                          "description": "Expected type of the parameter",
                                          "type": "string"
                                        },
                                        "parameter": {
                                          "description": "Name of the missing parameter",
                                          "type": "string"
                                        },
                                        "type": {
                                          "const": "missing-required-parameter",
                                          "type": "string"
                                        }
                                      },
                                      "required": [
                                        "type",
                                        "parameter",
                                        "expected_type"
                                      ],
                                      "type": "object"
                                    },
                                    {
                                      "description": "Constraint violation (e.g., type mismatches, pattern violations)",
                                      "properties": {
                                        "actual_value": {
                                          "description": "The actual value that failed validation"
                                        },
                                        "constraints": {
                                          "description": "Specific constraints that were violated",
                                          "items": {
                                            "description": "Individual validation constraint that was violated",
                                            "oneOf": [
                                              {
                                                "description": "Minimum value constraint (for numbers)",
                                                "properties": {
                                                  "exclusive": {
                                                    "description": "Whether the minimum is exclusive",
                                                    "type": "boolean"
                                                  },
                                                  "type": {
                                                    "const": "minimum",
                                                    "type": "string"
                                                  },
                                                  "value": {
                                                    "description": "The minimum value",
                                                    "format": "double",
                                                    "type": "number"
                                                  }
                                                },
                                                "required": [
                                                  "type",
                                                  "value",
                                                  "exclusive"
                                                ],
                                                "type": "object"
                                              },
                                              {
                                                "description": "Maximum value constraint (for numbers)",
                                                "properties": {
                                                  "exclusive": {
                                                    "description": "Whether the maximum is exclusive",
                                                    "type": "boolean"
                                                  },
                                                  "type": {
                                                    "const": "maximum",
                                                    "type": "string"
                                                  },
                                                  "value": {
                                                    "description": "The maximum value",
                                                    "format": "double",
                                                    "type": "number"
                                                  }
                                                },
                                                "required": [
                                                  "type",
                                                  "value",
                                                  "exclusive"
                                                ],
                                                "type": "object"
                                              },
                                              {
                                                "description": "Minimum length constraint (for strings/arrays)",
                                                "properties": {
                                                  "type": {
                                                    "const": "min-length",
                                                    "type": "string"
                                                  },
                                                  "value": {
                                                    "description": "The minimum length",
                                                    "format": "uint",
                                                    "minimum": 0,
                                                    "type": "integer"
                                                  }
                                                },
                                                "required": [
                                                  "type",
                                                  "value"
                                                ],
                                                "type": "object"
                                              },
                                              {
                                                "description": "Maximum length constraint (for strings/arrays)",
                                                "properties": {
                                                  "type": {
                                                    "const": "max-length",
                                                    "type": "string"
                                                  },
                                                  "value": {
                                                    "description": "The maximum length",
                                                    "format": "uint",
                                                    "minimum": 0,
                                                    "type": "integer"
                                                  }
                                                },
                                                "required": [
                                                  "type",
                                                  "value"
                                                ],
                                                "type": "object"
                                              },
                                              {
                                                "description": "Pattern constraint (for strings)",
                                                "properties": {
                                                  "pattern": {
                                                    "description": "The regex pattern that must be matched",
                                                    "type": "string"
                                                  },
                                                  "type": {
                                                    "const": "pattern",
                                                    "type": "string"
                                                  }
                                                },
                                                "required": [
                                                  "type",
                                                  "pattern"
                                                ],
                                                "type": "object"
                                              },
                                              {
                                                "description": "Enum values constraint",
                                                "properties": {
                                                  "type": {
                                                    "const": "enum-values",
                                                    "type": "string"
                                                  },
                                                  "values": {
                                                    "description": "The allowed enum values",
                                                    "items": true,
                                                    "type": "array"
                                                  }
                                                },
                                                "required": [
                                                  "type",
                                                  "values"
                                                ],
                                                "type": "object"
                                              },
                                              {
                                                "description": "Format constraint (e.g., \"date-time\", \"email\", \"uri\")",
                                                "properties": {
                                                  "format": {
                                                    "description": "The expected format",
                                                    "type": "string"
                                                  },
                                                  "type": {
                                                    "const": "format",
                                                    "type": "string"
                                                  }
                                                },
                                                "required": [
                                                  "type",
                                                  "format"
                                                ],
                                                "type": "object"
                                              },
                                              {
                                                "description": "Multiple of constraint (for numbers)",
                                                "properties": {
                                                  "type": {
                                                    "const": "multiple-of",
                                                    "type": "string"
                                                  },
                                                  "value": {
                                                    "description": "The value that the number must be a multiple of",
                                                    "format": "double",
                                                    "type": "number"
                                                  }
                                                },
                                                "required": [
                                                  "type",
                                                  "value"
                                                ],
                                                "type": "object"
                                              },
                                              {
                                                "description": "Minimum number of items constraint (for arrays)",
                                                "properties": {
                                                  "type": {
                                                    "const": "min-items",
                                                    "type": "string"
                                                  },
                                                  "value": {
                                                    "description": "The minimum number of items",
                                                    "format": "uint",
                                                    "minimum": 0,
                                                    "type": "integer"
                                                  }
                                                },
                                                "required": [
                                                  "type",
                                                  "value"
                                                ],
                                                "type": "object"
                                              },
                                              {
                                                "description": "Maximum number of items constraint (for arrays)",
                                                "properties": {
                                                  "type": {
                                                    "const": "max-items",
                                                    "type": "string"
                                                  },
                                                  "value": {
                                                    "description": "The maximum number of items",
                                                    "format": "uint",
                                                    "minimum": 0,
                                                    "type": "integer"
                                                  }
                                                },
                                                "required": [
                                                  "type",
                                                  "value"
                                                ],
                                                "type": "object"
                                              },
                                              {
                                                "description": "Unique items constraint (for arrays)",
                                                "properties": {
                                                  "type": {
                                                    "const": "unique-items",
                                                    "type": "string"
                                                  }
                                                },
                                                "required": [
                                                  "type"
                                                ],
                                                "type": "object"
                                              },
                                              {
                                                "description": "Minimum number of properties constraint (for objects)",
                                                "properties": {
                                                  "type": {
                                                    "const": "min-properties",
                                                    "type": "string"
                                                  },
                                                  "value": {
                                                    "description": "The minimum number of properties",
                                                    "format": "uint",
                                                    "minimum": 0,
                                                    "type": "integer"
                                                  }
                                                },
                                                "required": [
                                                  "type",
                                                  "value"
                                                ],
                                                "type": "object"
                                              },
                                              {
                                                "description": "Maximum number of properties constraint (for objects)",
                                                "properties": {
                                                  "type": {
                                                    "const": "max-properties",
                                                    "type": "string"
                                                  },
                                                  "value": {
                                                    "description": "The maximum number of properties",
                                                    "format": "uint",
                                                    "minimum": 0,
                                                    "type": "integer"
                                                  }
                                                },
                                                "required": [
                                                  "type",
                                                  "value"
                                                ],
                                                "type": "object"
                                              },
                                              {
                                                "description": "Constant value constraint",
                                                "properties": {
                                                  "type": {
                                                    "const": "const-value",
                                                    "type": "string"
                                                  },
                                                  "value": {
                                                    "description": "The exact value that must match"
                                                  }
                                                },
                                                "required": [
                                                  "type",
                                                  "value"
                                                ],
                                                "type": "object"
                                              },
                                              {
                                                "description": "Required properties constraint (for objects)",
                                                "properties": {
                                                  "properties": {
                                                    "description": "The required property names",
                                                    "items": {
                                                      "type": "string"
                                                    },
                                                    "type": "array"
                                                  },
                                                  "type": {
                                                    "const": "required",
                                                    "type": "string"
                                                  }
                                                },
                                                "required": [
                                                  "type",
                                                  "properties"
                                                ],
                                                "type": "object"
                                              }
                                            ]
                                          },
                                          "type": "array"
                                        },
                                        "expected_type": {
                                          "description": "Expected type or format",
                                          "type": [
                                            "string",
                                            "null"
                                          ]
                                        },
                                        "field_path": {
                                          "description": "Path to the field that failed validation (e.g., \"address.street\")",
                                          "type": [
                                            "string",
                                            "null"
                                          ]
                                        },
                                        "message": {
                                          "description": "Description of what validation failed",
                                          "type": "string"
                                        },
                                        "parameter": {
                                          "description": "Name of the parameter that failed validation",
                                          "type": "string"
                                        },
                                        "type": {
                                          "const": "constraint-violation",
                                          "type": "string"
                                        }
                                      },
                                      "required": [
                                        "type",
                                        "parameter",
                                        "message",
                                        "constraints"
                                      ],
                                      "type": "object"
                                    }
                                  ]
                                },
                                "type": "array"
                              }
                            },
                            "required": [
                              "type",
                              "violations"
                            ],
                            "type": "object"
                          },
                          {
                            "description": "Tool not found error",
                            "properties": {
                              "tool_name": {
                                "description": "Name of the tool that was not found",
                                "type": "string"
                              },
                              "type": {
                                "const": "tool-not-found",
                                "type": "string"
                              }
                            },
                            "required": [
                              "type",
                              "tool_name"
                            ],
                            "type": "object"
                          },
                          {
                            "description": "HTTP error response from the API",
                            "properties": {
                              "message": {
                                "description": "Error message or response body",
                                "type": "string"
                              },
                              "status": {
                                "description": "HTTP status code",
                                "format": "uint16",
                                "maximum": 65535,
                                "minimum": 0,
                                "type": "integer"
                              },
                              "type": {
                                "const": "http-error",
                                "type": "string"
                              }
                            },
                            "required": [
                              "type",
                              "status",
                              "message"
                            ],
                            "type": "object"
                          },
                          {
                            "description": "HTTP request failed (network, connection, timeout)",
                            "properties": {
                              "message": {
                                "description": "Description of the request failure",
                                "type": "string"
                              },
                              "type": {
                                "const": "http-request-error",
                                "type": "string"
                              }
                            },
                            "required": [
                              "type",
                              "message"
                            ],
                            "type": "object"
                          },
                          {
                            "description": "JSON parsing/serialization error",
                            "properties": {
                              "message": {
                                "description": "Description of the JSON error",
                                "type": "string"
                              },
                              "type": {
                                "const": "json-error",
                                "type": "string"
                              }
                            },
                            "required": [
                              "type",
                              "message"
                            ],
                            "type": "object"
                          }
                        ]
                      }
                    },
                    "required": [
                      "error"
                    ],
                    "type": "object"
                  }
                ]
              },
              "status": {
                "description": "HTTP status code",
                "maximum": 599,
                "minimum": 100,
                "type": "integer"
              }
            },
            "required": [
              "status",
              "body"
            ],
            "type": "object"
          }
        },
        {
          "annotations": {
            "title": "Finds Pets by status"
          },
          "description": "Finds Pets by status\n\nMultiple status values can be provided with comma separated strings\n\nEndpoint: GET /pet/findByStatus",
          "inputSchema": {
            "additionalProperties": false,
            "properties": {
              "status": {
                "description": "Status values that need to be considered for filter",
                "items": {
                  "enum": [
                    "available",
                    "pending",
                    "sold"
                  ],
                  "type": "string"
                },
                "type": "array",
                "x-parameter-location": "query",
                "x-parameter-required": true
              },
              "timeout_seconds": {
                "default": 30,
                "description": "Request timeout in seconds",
                "maximum": 300,
                "minimum": 1,
                "type": "integer"
              }
            },
            "required": [
              "status"
            ],
            "type": "object"
          },
          "name": "findPetsByStatus",
          "outputSchema": {
            "additionalProperties": false,
            "description": "Unified response structure with success and error variants",
            "properties": {
              "body": {
                "description": "Response body - either success data or error information",
                "oneOf": [
                  {
                    "items": {
                      "additionalProperties": true,
                      "properties": {
                        "id": {
                          "format": "int64",
                          "type": "integer"
                        },
                        "name": {
                          "example": "doggie",
                          "type": "string"
                        },
                        "photoUrls": {
                          "items": {
                            "type": "string"
                          },
                          "type": "array"
                        },
                        "status": {
                          "enum": [
                            "available",
                            "pending",
                            "sold"
                          ],
                          "type": "string"
                        }
                      },
                      "required": [
                        "name",
                        "photoUrls"
                      ],
                      "type": "object"
                    },
                    "type": "array"
                  },
                  {
                    "description": "Error response structure for tool execution failures",
                    "properties": {
                      "error": {
                        "description": "Error that can occur during tool execution",
                        "oneOf": [
                          {
                            "description": "Multiple validation errors",
                            "properties": {
                              "type": {
                                "const": "validation-errors",
                                "type": "string"
                              },
                              "violations": {
                                "description": "List of validation errors",
                                "items": {
                                  "description": "Individual validation error types",
                                  "oneOf": [
                                    {
                                      "description": "Invalid parameter error with suggestions",
                                      "properties": {
                                        "parameter": {
                                          "description": "The parameter name that was invalid",
                                          "type": "string"
                                        },
                                        "suggestions": {
                                          "description": "Suggested correct parameter names",
                                          "items": {
                                            "type": "string"
                                          },
                                          "type": "array"
                                        },
                                        "type": {
                                          "const": "invalid-parameter",
                                          "type": "string"
                                        },
                                        "valid_parameters": {
                                          "description": "All valid parameter names for this tool",
                                          "items": {
                                            "type": "string"
                                          },
                                          "type": "array"
                                        }
                                      },
                                      "required": [
                                        "type",
                                        "parameter",
                                        "suggestions",
                                        "valid_parameters"
                                      ],
                                      "type": "object"
                                    },
                                    {
                                      "description": "Missing required parameter",
                                      "properties": {
                                        "description": {
                                          "description": "Description of the parameter from OpenAPI",
                                          "type": [
                                            "string",
                                            "null"
                                          ]
                                        },
                                        "expected_type": {
                                          "description": "Expected type of the parameter",
                                          "type": "string"
                                        },
                                        "parameter": {
                                          "description": "Name of the missing parameter",
                                          "type": "string"
                                        },
                                        "type": {
                                          "const": "missing-required-parameter",
                                          "type": "string"
                                        }
                                      },
                                      "required": [
                                        "type",
                                        "parameter",
                                        "expected_type"
                                      ],
                                      "type": "object"
                                    },
                                    {
                                      "description": "Constraint violation (e.g., type mismatches, pattern violations)",
                                      "properties": {
                                        "actual_value": {
                                          "description": "The actual value that failed validation"
                                        },
                                        "constraints": {
                                          "description": "Specific constraints that were violated",
                                          "items": {
                                            "description": "Individual validation constraint that was violated",
                                            "oneOf": [
                                              {
                                                "description": "Minimum value constraint (for numbers)",
                                                "properties": {
                                                  "exclusive": {
                                                    "description": "Whether the minimum is exclusive",
                                                    "type": "boolean"
                                                  },
                                                  "type": {
                                                    "const": "minimum",
                                                    "type": "string"
                                                  },
                                                  "value": {
                                                    "description": "The minimum value",
                                                    "format": "double",
                                                    "type": "number"
                                                  }
                                                },
                                                "required": [
                                                  "type",
                                                  "value",
                                                  "exclusive"
                                                ],
                                                "type": "object"
                                              },
                                              {
                                                "description": "Maximum value constraint (for numbers)",
                                                "properties": {
                                                  "exclusive": {
                                                    "description": "Whether the maximum is exclusive",
                                                    "type": "boolean"
                                                  },
                                                  "type": {
                                                    "const": "maximum",
                                                    "type": "string"
                                                  },
                                                  "value": {
                                                    "description": "The maximum value",
                                                    "format": "double",
                                                    "type": "number"
                                                  }
                                                },
                                                "required": [
                                                  "type",
                                                  "value",
                                                  "exclusive"
                                                ],
                                                "type": "object"
                                              },
                                              {
                                                "description": "Minimum length constraint (for strings/arrays)",
                                                "properties": {
                                                  "type": {
                                                    "const": "min-length",
                                                    "type": "string"
                                                  },
                                                  "value": {
                                                    "description": "The minimum length",
                                                    "format": "uint",
                                                    "minimum": 0,
                                                    "type": "integer"
                                                  }
                                                },
                                                "required": [
                                                  "type",
                                                  "value"
                                                ],
                                                "type": "object"
                                              },
                                              {
                                                "description": "Maximum length constraint (for strings/arrays)",
                                                "properties": {
                                                  "type": {
                                                    "const": "max-length",
                                                    "type": "string"
                                                  },
                                                  "value": {
                                                    "description": "The maximum length",
                                                    "format": "uint",
                                                    "minimum": 0,
                                                    "type": "integer"
                                                  }
                                                },
                                                "required": [
                                                  "type",
                                                  "value"
                                                ],
                                                "type": "object"
                                              },
                                              {
                                                "description": "Pattern constraint (for strings)",
                                                "properties": {
                                                  "pattern": {
                                                    "description": "The regex pattern that must be matched",
                                                    "type": "string"
                                                  },
                                                  "type": {
                                                    "const": "pattern",
                                                    "type": "string"
                                                  }
                                                },
                                                "required": [
                                                  "type",
                                                  "pattern"
                                                ],
                                                "type": "object"
                                              },
                                              {
                                                "description": "Enum values constraint",
                                                "properties": {
                                                  "type": {
                                                    "const": "enum-values",
                                                    "type": "string"
                                                  },
                                                  "values": {
                                                    "description": "The allowed enum values",
                                                    "items": true,
                                                    "type": "array"
                                                  }
                                                },
                                                "required": [
                                                  "type",
                                                  "values"
                                                ],
                                                "type": "object"
                                              },
                                              {
                                                "description": "Format constraint (e.g., \"date-time\", \"email\", \"uri\")",
                                                "properties": {
                                                  "format": {
                                                    "description": "The expected format",
                                                    "type": "string"
                                                  },
                                                  "type": {
                                                    "const": "format",
                                                    "type": "string"
                                                  }
                                                },
                                                "required": [
                                                  "type",
                                                  "format"
                                                ],
                                                "type": "object"
                                              },
                                              {
                                                "description": "Multiple of constraint (for numbers)",
                                                "properties": {
                                                  "type": {
                                                    "const": "multiple-of",
                                                    "type": "string"
                                                  },
                                                  "value": {
                                                    "description": "The value that the number must be a multiple of",
                                                    "format": "double",
                                                    "type": "number"
                                                  }
                                                },
                                                "required": [
                                                  "type",
                                                  "value"
                                                ],
                                                "type": "object"
                                              },
                                              {
                                                "description": "Minimum number of items constraint (for arrays)",
                                                "properties": {
                                                  "type": {
                                                    "const": "min-items",
                                                    "type": "string"
                                                  },
                                                  "value": {
                                                    "description": "The minimum number of items",
                                                    "format": "uint",
                                                    "minimum": 0,
                                                    "type": "integer"
                                                  }
                                                },
                                                "required": [
                                                  "type",
                                                  "value"
                                                ],
                                                "type": "object"
                                              },
                                              {
                                                "description": "Maximum number of items constraint (for arrays)",
                                                "properties": {
                                                  "type": {
                                                    "const": "max-items",
                                                    "type": "string"
                                                  },
                                                  "value": {
                                                    "description": "The maximum number of items",
                                                    "format": "uint",
                                                    "minimum": 0,
                                                    "type": "integer"
                                                  }
                                                },
                                                "required": [
                                                  "type",
                                                  "value"
                                                ],
                                                "type": "object"
                                              },
                                              {
                                                "description": "Unique items constraint (for arrays)",
                                                "properties": {
                                                  "type": {
                                                    "const": "unique-items",
                                                    "type": "string"
                                                  }
                                                },
                                                "required": [
                                                  "type"
                                                ],
                                                "type": "object"
                                              },
                                              {
                                                "description": "Minimum number of properties constraint (for objects)",
                                                "properties": {
                                                  "type": {
                                                    "const": "min-properties",
                                                    "type": "string"
                                                  },
                                                  "value": {
                                                    "description": "The minimum number of properties",
                                                    "format": "uint",
                                                    "minimum": 0,
                                                    "type": "integer"
                                                  }
                                                },
                                                "required": [
                                                  "type",
                                                  "value"
                                                ],
                                                "type": "object"
                                              },
                                              {
                                                "description": "Maximum number of properties constraint (for objects)",
                                                "properties": {
                                                  "type": {
                                                    "const": "max-properties",
                                                    "type": "string"
                                                  },
                                                  "value": {
                                                    "description": "The maximum number of properties",
                                                    "format": "uint",
                                                    "minimum": 0,
                                                    "type": "integer"
                                                  }
                                                },
                                                "required": [
                                                  "type",
                                                  "value"
                                                ],
                                                "type": "object"
                                              },
                                              {
                                                "description": "Constant value constraint",
                                                "properties": {
                                                  "type": {
                                                    "const": "const-value",
                                                    "type": "string"
                                                  },
                                                  "value": {
                                                    "description": "The exact value that must match"
                                                  }
                                                },
                                                "required": [
                                                  "type",
                                                  "value"
                                                ],
                                                "type": "object"
                                              },
                                              {
                                                "description": "Required properties constraint (for objects)",
                                                "properties": {
                                                  "properties": {
                                                    "description": "The required property names",
                                                    "items": {
                                                      "type": "string"
                                                    },
                                                    "type": "array"
                                                  },
                                                  "type": {
                                                    "const": "required",
                                                    "type": "string"
                                                  }
                                                },
                                                "required": [
                                                  "type",
                                                  "properties"
                                                ],
                                                "type": "object"
                                              }
                                            ]
                                          },
                                          "type": "array"
                                        },
                                        "expected_type": {
                                          "description": "Expected type or format",
                                          "type": [
                                            "string",
                                            "null"
                                          ]
                                        },
                                        "field_path": {
                                          "description": "Path to the field that failed validation (e.g., \"address.street\")",
                                          "type": [
                                            "string",
                                            "null"
                                          ]
                                        },
                                        "message": {
                                          "description": "Description of what validation failed",
                                          "type": "string"
                                        },
                                        "parameter": {
                                          "description": "Name of the parameter that failed validation",
                                          "type": "string"
                                        },
                                        "type": {
                                          "const": "constraint-violation",
                                          "type": "string"
                                        }
                                      },
                                      "required": [
                                        "type",
                                        "parameter",
                                        "message",
                                        "constraints"
                                      ],
                                      "type": "object"
                                    }
                                  ]
                                },
                                "type": "array"
                              }
                            },
                            "required": [
                              "type",
                              "violations"
                            ],
                            "type": "object"
                          },
                          {
                            "description": "Tool not found error",
                            "properties": {
                              "tool_name": {
                                "description": "Name of the tool that was not found",
                                "type": "string"
                              },
                              "type": {
                                "const": "tool-not-found",
                                "type": "string"
                              }
                            },
                            "required": [
                              "type",
                              "tool_name"
                            ],
                            "type": "object"
                          },
                          {
                            "description": "HTTP error response from the API",
                            "properties": {
                              "message": {
                                "description": "Error message or response body",
                                "type": "string"
                              },
                              "status": {
                                "description": "HTTP status code",
                                "format": "uint16",
                                "maximum": 65535,
                                "minimum": 0,
                                "type": "integer"
                              },
                              "type": {
                                "const": "http-error",
                                "type": "string"
                              }
                            },
                            "required": [
                              "type",
                              "status",
                              "message"
                            ],
                            "type": "object"
                          },
                          {
                            "description": "HTTP request failed (network, connection, timeout)",
                            "properties": {
                              "message": {
                                "description": "Description of the request failure",
                                "type": "string"
                              },
                              "type": {
                                "const": "http-request-error",
                                "type": "string"
                              }
                            },
                            "required": [
                              "type",
                              "message"
                            ],
                            "type": "object"
                          },
                          {
                            "description": "JSON parsing/serialization error",
                            "properties": {
                              "message": {
                                "description": "Description of the JSON error",
                                "type": "string"
                              },
                              "type": {
                                "const": "json-error",
                                "type": "string"
                              }
                            },
                            "required": [
                              "type",
                              "message"
                            ],
                            "type": "object"
                          }
                        ]
                      }
                    },
                    "required": [
                      "error"
                    ],
                    "type": "object"
                  }
                ]
              },
              "status": {
                "description": "HTTP status code",
                "maximum": 599,
                "minimum": 100,
                "type": "integer"
              }
            },
            "required": [
              "status",
              "body"
            ],
            "type": "object"
          }
        },
        {
          "annotations": {
            "title": "Find pet by ID"
          },
          "description": "Find pet by ID\n\nReturns a single pet\n\nEndpoint: GET /pet/{petId}",
          "inputSchema": {
            "additionalProperties": false,
            "properties": {
              "petId": {
                "description": "ID of pet to return",
                "format": "int64",
                "minimum": 1,
                "type": "integer",
                "x-parameter-location": "path",
                "x-parameter-required": true
              }
            },
            "required": [
              "petId"
            ],
            "type": "object"
          },
          "name": "getPetById",
          "outputSchema": {
            "additionalProperties": false,
            "description": "Unified response structure with success and error variants",
            "properties": {
              "body": {
                "description": "Response body - either success data or error information",
                "oneOf": [
                  {
                    "additionalProperties": true,
                    "properties": {
                      "id": {
                        "format": "int64",
                        "type": "integer"
                      },
                      "name": {
                        "example": "doggie",
                        "type": "string"
                      },
                      "photoUrls": {
                        "items": {
                          "type": "string"
                        },
                        "type": "array"
                      },
                      "status": {
                        "enum": [
                          "available",
                          "pending",
                          "sold"
                        ],
                        "type": "string"
                      }
                    },
                    "required": [
                      "name",
                      "photoUrls"
                    ],
                    "type": "object"
                  },
                  {
                    "description": "Error response structure for tool execution failures",
                    "properties": {
                      "error": {
                        "description": "Error that can occur during tool execution",
                        "oneOf": [
                          {
                            "description": "Multiple validation errors",
                            "properties": {
                              "type": {
                                "const": "validation-errors",
                                "type": "string"
                              },
                              "violations": {
                                "description": "List of validation errors",
                                "items": {
                                  "description": "Individual validation error types",
                                  "oneOf": [
                                    {
                                      "description": "Invalid parameter error with suggestions",
                                      "properties": {
                                        "parameter": {
                                          "description": "The parameter name that was invalid",
                                          "type": "string"
                                        },
                                        "suggestions": {
                                          "description": "Suggested correct parameter names",
                                          "items": {
                                            "type": "string"
                                          },
                                          "type": "array"
                                        },
                                        "type": {
                                          "const": "invalid-parameter",
                                          "type": "string"
                                        },
                                        "valid_parameters": {
                                          "description": "All valid parameter names for this tool",
                                          "items": {
                                            "type": "string"
                                          },
                                          "type": "array"
                                        }
                                      },
                                      "required": [
                                        "type",
                                        "parameter",
                                        "suggestions",
                                        "valid_parameters"
                                      ],
                                      "type": "object"
                                    },
                                    {
                                      "description": "Missing required parameter",
                                      "properties": {
                                        "description": {
                                          "description": "Description of the parameter from OpenAPI",
                                          "type": [
                                            "string",
                                            "null"
                                          ]
                                        },
                                        "expected_type": {
                                          "description": "Expected type of the parameter",
                                          "type": "string"
                                        },
                                        "parameter": {
                                          "description": "Name of the missing parameter",
                                          "type": "string"
                                        },
                                        "type": {
                                          "const": "missing-required-parameter",
                                          "type": "string"
                                        }
                                      },
                                      "required": [
                                        "type",
                                        "parameter",
                                        "expected_type"
                                      ],
                                      "type": "object"
                                    },
                                    {
                                      "description": "Constraint violation (e.g., type mismatches, pattern violations)",
                                      "properties": {
                                        "actual_value": {
                                          "description": "The actual value that failed validation"
                                        },
                                        "constraints": {
                                          "description": "Specific constraints that were violated",
                                          "items": {
                                            "description": "Individual validation constraint that was violated",
                                            "oneOf": [
                                              {
                                                "description": "Minimum value constraint (for numbers)",
                                                "properties": {
                                                  "exclusive": {
                                                    "description": "Whether the minimum is exclusive",
                                                    "type": "boolean"
                                                  },
                                                  "type": {
                                                    "const": "minimum",
                                                    "type": "string"
                                                  },
                                                  "value": {
                                                    "description": "The minimum value",
                                                    "format": "double",
                                                    "type": "number"
                                                  }
                                                },
                                                "required": [
                                                  "type",
                                                  "value",
                                                  "exclusive"
                                                ],
                                                "type": "object"
                                              },
                                              {
                                                "description": "Maximum value constraint (for numbers)",
                                                "properties": {
                                                  "exclusive": {
                                                    "description": "Whether the maximum is exclusive",
                                                    "type": "boolean"
                                                  },
                                                  "type": {
                                                    "const": "maximum",
                                                    "type": "string"
                                                  },
                                                  "value": {
                                                    "description": "The maximum value",
                                                    "format": "double",
                                                    "type": "number"
                                                  }
                                                },
                                                "required": [
                                                  "type",
                                                  "value",
                                                  "exclusive"
                                                ],
                                                "type": "object"
                                              },
                                              {
                                                "description": "Minimum length constraint (for strings/arrays)",
                                                "properties": {
                                                  "type": {
                                                    "const": "min-length",
                                                    "type": "string"
                                                  },
                                                  "value": {
                                                    "description": "The minimum length",
                                                    "format": "uint",
                                                    "minimum": 0,
                                                    "type": "integer"
                                                  }
                                                },
                                                "required": [
                                                  "type",
                                                  "value"
                                                ],
                                                "type": "object"
                                              },
                                              {
                                                "description": "Maximum length constraint (for strings/arrays)",
                                                "properties": {
                                                  "type": {
                                                    "const": "max-length",
                                                    "type": "string"
                                                  },
                                                  "value": {
                                                    "description": "The maximum length",
                                                    "format": "uint",
                                                    "minimum": 0,
                                                    "type": "integer"
                                                  }
                                                },
                                                "required": [
                                                  "type",
                                                  "value"
                                                ],
                                                "type": "object"
                                              },
                                              {
                                                "description": "Pattern constraint (for strings)",
                                                "properties": {
                                                  "pattern": {
                                                    "description": "The regex pattern that must be matched",
                                                    "type": "string"
                                                  },
                                                  "type": {
                                                    "const": "pattern",
                                                    "type": "string"
                                                  }
                                                },
                                                "required": [
                                                  "type",
                                                  "pattern"
                                                ],
                                                "type": "object"
                                              },
                                              {
                                                "description": "Enum values constraint",
                                                "properties": {
                                                  "type": {
                                                    "const": "enum-values",
                                                    "type": "string"
                                                  },
                                                  "values": {
                                                    "description": "The allowed enum values",
                                                    "items": true,
                                                    "type": "array"
                                                  }
                                                },
                                                "required": [
                                                  "type",
                                                  "values"
                                                ],
                                                "type": "object"
                                              },
                                              {
                                                "description": "Format constraint (e.g., \"date-time\", \"email\", \"uri\")",
                                                "properties": {
                                                  "format": {
                                                    "description": "The expected format",
                                                    "type": "string"
                                                  },
                                                  "type": {
                                                    "const": "format",
                                                    "type": "string"
                                                  }
                                                },
                                                "required": [
                                                  "type",
                                                  "format"
                                                ],
                                                "type": "object"
                                              },
                                              {
                                                "description": "Multiple of constraint (for numbers)",
                                                "properties": {
                                                  "type": {
                                                    "const": "multiple-of",
                                                    "type": "string"
                                                  },
                                                  "value": {
                                                    "description": "The value that the number must be a multiple of",
                                                    "format": "double",
                                                    "type": "number"
                                                  }
                                                },
                                                "required": [
                                                  "type",
                                                  "value"
                                                ],
                                                "type": "object"
                                              },
                                              {
                                                "description": "Minimum number of items constraint (for arrays)",
                                                "properties": {
                                                  "type": {
                                                    "const": "min-items",
                                                    "type": "string"
                                                  },
                                                  "value": {
                                                    "description": "The minimum number of items",
                                                    "format": "uint",
                                                    "minimum": 0,
                                                    "type": "integer"
                                                  }
                                                },
                                                "required": [
                                                  "type",
                                                  "value"
                                                ],
                                                "type": "object"
                                              },
                                              {
                                                "description": "Maximum number of items constraint (for arrays)",
                                                "properties": {
                                                  "type": {
                                                    "const": "max-items",
                                                    "type": "string"
                                                  },
                                                  "value": {
                                                    "description": "The maximum number of items",
                                                    "format": "uint",
                                                    "minimum": 0,
                                                    "type": "integer"
                                                  }
                                                },
                                                "required": [
                                                  "type",
                                                  "value"
                                                ],
                                                "type": "object"
                                              },
                                              {
                                                "description": "Unique items constraint (for arrays)",
                                                "properties": {
                                                  "type": {
                                                    "const": "unique-items",
                                                    "type": "string"
                                                  }
                                                },
                                                "required": [
                                                  "type"
                                                ],
                                                "type": "object"
                                              },
                                              {
                                                "description": "Minimum number of properties constraint (for objects)",
                                                "properties": {
                                                  "type": {
                                                    "const": "min-properties",
                                                    "type": "string"
                                                  },
                                                  "value": {
                                                    "description": "The minimum number of properties",
                                                    "format": "uint",
                                                    "minimum": 0,
                                                    "type": "integer"
                                                  }
                                                },
                                                "required": [
                                                  "type",
                                                  "value"
                                                ],
                                                "type": "object"
                                              },
                                              {
                                                "description": "Maximum number of properties constraint (for objects)",
                                                "properties": {
                                                  "type": {
                                                    "const": "max-properties",
                                                    "type": "string"
                                                  },
                                                  "value": {
                                                    "description": "The maximum number of properties",
                                                    "format": "uint",
                                                    "minimum": 0,
                                                    "type": "integer"
                                                  }
                                                },
                                                "required": [
                                                  "type",
                                                  "value"
                                                ],
                                                "type": "object"
                                              },
                                              {
                                                "description": "Constant value constraint",
                                                "properties": {
                                                  "type": {
                                                    "const": "const-value",
                                                    "type": "string"
                                                  },
                                                  "value": {
                                                    "description": "The exact value that must match"
                                                  }
                                                },
                                                "required": [
                                                  "type",
                                                  "value"
                                                ],
                                                "type": "object"
                                              },
                                              {
                                                "description": "Required properties constraint (for objects)",
                                                "properties": {
                                                  "properties": {
                                                    "description": "The required property names",
                                                    "items": {
                                                      "type": "string"
                                                    },
                                                    "type": "array"
                                                  },
                                                  "type": {
                                                    "const": "required",
                                                    "type": "string"
                                                  }
                                                },
                                                "required": [
                                                  "type",
                                                  "properties"
                                                ],
                                                "type": "object"
                                              }
                                            ]
                                          },
                                          "type": "array"
                                        },
                                        "expected_type": {
                                          "description": "Expected type or format",
                                          "type": [
                                            "string",
                                            "null"
                                          ]
                                        },
                                        "field_path": {
                                          "description": "Path to the field that failed validation (e.g., \"address.street\")",
                                          "type": [
                                            "string",
                                            "null"
                                          ]
                                        },
                                        "message": {
                                          "description": "Description of what validation failed",
                                          "type": "string"
                                        },
                                        "parameter": {
                                          "description": "Name of the parameter that failed validation",
                                          "type": "string"
                                        },
                                        "type": {
                                          "const": "constraint-violation",
                                          "type": "string"
                                        }
                                      },
                                      "required": [
                                        "type",
                                        "parameter",
                                        "message",
                                        "constraints"
                                      ],
                                      "type": "object"
                                    }
                                  ]
                                },
                                "type": "array"
                              }
                            },
                            "required": [
                              "type",
                              "violations"
                            ],
                            "type": "object"
                          },
                          {
                            "description": "Tool not found error",
                            "properties": {
                              "tool_name": {
                                "description": "Name of the tool that was not found",
                                "type": "string"
                              },
                              "type": {
                                "const": "tool-not-found",
                                "type": "string"
                              }
                            },
                            "required": [
                              "type",
                              "tool_name"
                            ],
                            "type": "object"
                          },
                          {
                            "description": "HTTP error response from the API",
                            "properties": {
                              "message": {
                                "description": "Error message or response body",
                                "type": "string"
                              },
                              "status": {
                                "description": "HTTP status code",
                                "format": "uint16",
                                "maximum": 65535,
                                "minimum": 0,
                                "type": "integer"
                              },
                              "type": {
                                "const": "http-error",
                                "type": "string"
                              }
                            },
                            "required": [
                              "type",
                              "status",
                              "message"
                            ],
                            "type": "object"
                          },
                          {
                            "description": "HTTP request failed (network, connection, timeout)",
                            "properties": {
                              "message": {
                                "description": "Description of the request failure",
                                "type": "string"
                              },
                              "type": {
                                "const": "http-request-error",
                                "type": "string"
                              }
                            },
                            "required": [
                              "type",
                              "message"
                            ],
                            "type": "object"
                          },
                          {
                            "description": "JSON parsing/serialization error",
                            "properties": {
                              "message": {
                                "description": "Description of the JSON error",
                                "type": "string"
                              },
                              "type": {
                                "const": "json-error",
                                "type": "string"
                              }
                            },
                            "required": [
                              "type",
                              "message"
                            ],
                            "type": "object"
                          }
                        ]
                      }
                    },
                    "required": [
                      "error"
                    ],
                    "type": "object"
                  }
                ]
              },
              "status": {
                "description": "HTTP status code",
                "maximum": 599,
                "minimum": 100,
                "type": "integer"
              }
            },
            "required": [
              "status",
              "body"
            ],
            "type": "object"
          }
        }
      ]
    },
    "type": "tools_list"
  },
  {
    "data": {
      "resources": []
    },
    "type": "resources_list"
  },
  {
    "data": {
      "resourceTemplates": []
    },
    "type": "resource_templates_list"
  },
  {
    "data": {
      "prompts": []
    },
    "type": "prompts_list"
  },
  {
    "arguments": {
      "petId": 123
    },
    "data": {
      "content": [],
      "isError": false,
      "structuredContent": {
        "body": {
          "category": {
            "id": 1,
            "name": "Dogs"
          },
          "id": 123,
          "name": "doggie",
          "photoUrls": [
            "https://example.com/photo1.jpg"
          ],
          "status": "available",
          "tags": [
            {
              "id": 1,
              "name": "tag1"
            }
          ]
        },
        "status": 200
      }
    },
    "success": true,
    "tool": "getPetById",
    "type": "tool_call_result"
  },
  {
    "arguments": {
      "status": [
        "available",
        "pending"
      ]
    },
    "data": {
      "content": [],
      "isError": false,
      "structuredContent": {
        "body": [
          {
            "category": {
              "id": 1,
              "name": "Dogs"
            },
            "id": 1,
            "name": "doggie",
            "photoUrls": [
              "https://example.com/photo1.jpg"
            ],
            "status": "available",
            "tags": [
              {
                "id": 1,
                "name": "tag1"
              }
            ]
          },
          {
            "category": {
              "id": 2,
              "name": "Cats"
            },
            "id": 2,
            "name": "kitty",
            "photoUrls": [
              "https://example.com/photo2.jpg"
            ],
            "status": "pending",
            "tags": [
              {
                "id": 2,
                "name": "tag2"
              }
            ]
          }
        ],
        "status": 200
      }
    },
    "success": true,
    "tool": "findPetsByStatus",
    "type": "tool_call_result"
  },
  {
    "arguments": {
      "request_body": {
        "name": "MCP Test Dog",
        "status": "available"
      }
    },
    "data": {
      "content": [],
      "isError": false,
      "structuredContent": {
        "body": {
          "category": {
            "id": 1,
            "name": "Dogs"
          },
          "id": 123,
          "name": "new doggie",
          "photoUrls": [
            "https://example.com/photo1.jpg"
          ],
          "status": "available",
          "tags": [
            {
              "id": 1,
              "name": "tag1"
            }
          ]
        },
        "status": 201
      }
    },
    "success": true,
    "tool": "addPet",
    "type": "tool_call_result"
  },
  {
    "arguments": {
      "petId": 999999
    },
    "data": {
      "content": [],
      "isError": true,
      "structuredContent": {
        "body": {
          "message": "Pet not found"
        },
        "status": 404
      }
    },
    "success": true,
    "tool": "getPetById",
    "type": "tool_call_result"
  },
  {
    "arguments": {
      "request_body": {
        "status": "invalid_status_value"
      }
    },
    "data": {
      "content": [],
      "isError": true,
      "structuredContent": {
        "body": {
          "error": {
            "type": "validation-errors",
            "violations": [
              {
                "actual_value": {
                  "status": "invalid_status_value"
                },
                "constraints": [
                  {
                    "properties": [
                      "name",
                      "photoUrls"
                    ],
                    "type": "required"
                  }
                ],
                "expected_type": "object",
                "field_path": "request_body/status",
                "message": "\"invalid_status_value\" is not one of [\"available\",\"pending\",\"sold\"]",
                "parameter": "request_body",
                "type": "constraint-violation"
              }
            ]
          }
        },
        "status": 400
      }
    },
    "success": true,
    "tool": "addPet",
    "type": "tool_call_result"
  },
  {
    "arguments": {
      "pet_id": 123
    },
    "data": {
      "content": [],
      "isError": true,
      "structuredContent": {
        "body": {
          "error": {
            "type": "validation-errors",
            "violations": [
              {
                "parameter": "pet_id",
                "suggestions": [
                  "petId"
                ],
                "type": "invalid-parameter",
                "valid_parameters": [
                  "petId"
                ]
              },
              {
                "description": "ID of pet to return",
                "expected_type": "integer",
                "parameter": "petId",
                "type": "missing-required-parameter"
              }
            ]
          }
        },
        "status": 400
      }
    },
    "success": true,
    "tool": "getPetById",
    "type": "tool_call_result"
  },
  {
    "arguments": {
      "limit": 10,
      "statuses": [
        "available"
      ]
    },
    "data": {
      "content": [],
      "isError": true,
      "structuredContent": {
        "body": {
          "error": {
            "type": "validation-errors",
            "violations": [
              {
                "parameter": "limit",
                "suggestions": [],
                "type": "invalid-parameter",
                "valid_parameters": [
                  "status",
                  "timeout_seconds"
                ]
              },
              {
                "parameter": "statuses",
                "suggestions": [
                  "status"
                ],
                "type": "invalid-parameter",
                "valid_parameters": [
                  "status",
                  "timeout_seconds"
                ]
              },
              {
                "description": "Status values that need to be considered for filter",
                "expected_type": "array",
                "parameter": "status",
                "type": "missing-required-parameter"
              }
            ]
          }
        },
        "status": 400
      }
    },
    "success": true,
    "tool": "findPetsByStatus",
    "type": "tool_call_result"
  },
  {
    "arguments": {
      "petId": "not-a-number"
    },
    "data": {
      "content": [],
      "isError": true,
      "structuredContent": {
        "body": {
          "error": {
            "type": "validation-errors",
            "violations": [
              {
                "actual_value": "not-a-number",
                "constraints": [
                  {
                    "exclusive": false,
                    "type": "minimum",
                    "value": 1
                  },
                  {
                    "format": "int64",
                    "type": "format"
                  }
                ],
                "expected_type": "integer",
                "field_path": "petId",
                "message": "\"not-a-number\" is not of type \"integer\"",
                "parameter": "petId",
                "type": "constraint-violation"
              }
            ]
          }
        },
        "status": 400
      }
    },
    "success": true,
    "tool": "getPetById",
    "type": "tool_call_result"
  },
  {
    "arguments": {
      "status": "available"
    },
    "data": {
      "content": [],
      "isError": true,
      "structuredContent": {
        "body": {
          "error": {
            "type": "validation-errors",
            "violations": [
              {
                "actual_value": "available",
                "expected_type": "array",
                "field_path": "status",
                "message": "\"available\" is not of type \"array\"",
                "parameter": "status",
                "type": "constraint-violation"
              }
            ]
          }
        },
        "status": 400
      }
    },
    "success": true,
    "tool": "findPetsByStatus",
    "type": "tool_call_result"
  },
  {
    "arguments": {
      "status": [
        "invalid_status"
      ]
    },
    "data": {
      "content": [],
      "isError": true,
      "structuredContent": {
        "body": {
          "error": {
            "type": "validation-errors",
            "violations": [
              {
                "actual_value": [
                  "invalid_status"
                ],
                "expected_type": "array",
                "field_path": "status/0",
                "message": "\"invalid_status\" is not one of [\"available\",\"pending\",\"sold\"]",
                "parameter": "status",
                "type": "constraint-violation"
              }
            ]
          }
        },
        "status": 400
      }
    },
    "success": true,
    "tool": "findPetsByStatus",
    "type": "tool_call_result"
  },
  {
    "arguments": {
      "request_body": {
        "category": {
          "id": "not-a-number"
        },
        "name": "Test Pet",
        "status": "available"
      }
    },
    "data": {
      "content": [],
      "isError": true,
      "structuredContent": {
        "body": {
          "details": "Name is required",
          "message": "Invalid input"
        },
        "status": 400
      }
    },
    "success": true,
    "tool": "addPet",
    "type": "tool_call_result"
  }
]
